# Phase 4.5: 実装コードレビュー (DEPRECATED)

## ⚠️ 重要な変更
**このフェーズは廃止されました**

コードレビューはビルドエラー修正ワークフローから完全に独立し、必要に応じて別プロセスとして実行されます。

## 旧適用条件（参考用）
**このフェーズはコード修正・変更の場合のみ適用されていました**

### 適用対象:
- JavaScript/TypeScript/HTML/CSS等のソースコード変更
- ロジック追加・修正
- 新機能実装

### 適用除外:
- プロジェクト構造の再生成（例: `npx cap add android`）
- 依存関係のみの変更
- 設定ファイルのみの変更
- ビルドツール・CI/CD設定の変更

## 目的
過去のAIレビュー改善知識ベースからのフィードバックを学習し、実装されたコードがcommit前に安全性・パフォーマンス・保守性の面で本番レベルの品質を満たしているかを事前に検証する。**複雑性の排除とシンプルで持続可能なコード（ミニマリストコード）の維持を優先する**。

## AIアシスタント実行項目
1. **[自己学習ステップ]**: CI/CDプロセスの一環として、中央リポジトリ（ai-review-knowledge-base）から最新の知識ベースを取得する
2. **取得された知識ベースのチェックリスト項目を現在のレビュー観点に追加する**
3. **[必須ESLint実行ステップ]**: レビューを実行する前に、まずESLintやその他の静的解析ツールを最大レベルでローカル実行し、その出力結果を必須レビュー入力として記録する
   ```bash
   # ESLint実行（Termux最適化版）
   npx eslint [対象ファイル] --max-warnings=0
   # 結果を必須レビュー入力として記録
   ```
   - これによりAIの「誤魔化し」の余地を排除し、機械的チェックを強制する
   - ESLint出力結果なしにはレビュー評価を実行できないシステムを確立する
4. **レビューを実行**し、以下の厳密な形式で「コードレビューレポート」として結果を出力する。要約や概要は許可されない
5. **品質ゲート判定**: レポートに🔴Criticalが一つでも含まれる場合、Phase 5への遷移を中止し、即座にコード修正に戻る

## [コードレビューレポート必須形式]
```
# 📝 コードレビューレポート ({Issue番号})

## 1. セキュリティ
- **評価:** 🟢 Pass / 🟡 Major / 🔴 Critical
- **根拠:** (この評価の理由を具体的なコード箇所を引用して説明)

## 2. バグ
- **評価:** 🟢 Pass / 🟡 Major / 🔴 Critical
- **根拠:** (この評価の理由を具体的なコード箇所を引用して説明)

## 3. パフォーマンス
- **評価:** 🟢 Pass / 🟡 Major / 🔴 Critical
- **根拠:** (この評価の理由を具体的なコード箇所を引用して説明)

## 4. コード品質（ミニマリズム）
- **評価:** 🟢 Pass / 🟡 Major / 🔴 Critical
- **根拠:** (この評価の理由を具体的なコード箇所を引用して説明)

## 5. 可読性・保守性
- **評価:** 🟢 Pass / 🟡 Major / 🔴 Critical
- **根拠:** (この評価の理由を具体的なコード箇所を引用して説明)

## 6. ベストプラクティス
- **評価:** 🟢 Pass / 🟡 Major / 🔴 Critical
- **根拠:** (この評価の理由を具体的なコード箇所を引用して説明)

## 7. 機能要件
- **評価:** 🟢 Pass / 🟡 Major / 🔴 Critical
- **根拠:** (この評価の理由を具体的なコード箇所を引用して説明)

---
## 総合判定
- **判定:** 承認 / 修正必要
- **理由:** (承認できる理由または修正が必要な理由を要約)
```

## 品質ゲート判定
レポートに🔴Criticalが一つでも含まれる場合、Phase 5への遷移を中止し、即座にコード修正に戻る

## 完了条件
- ESLint実行結果が記録されている
- 7項目すべてのレビューが完了している
- コードレビューレポートが規定形式で作成されている
- 品質ゲート判定が完了している

## 次のフェーズ
Phase 5: デプロイ準備と一次報告
